conf:
  trace: file.txt
description: a test
name: test
version: '1.0'
workflow:
- payload (nwm):
    comids:
      - 8786017
    fcTimesToHarvest:
      - 0
    property: streamflow
    type: short_range
- service(nwm):
    url: http://ehs-csip-nwm.eastus.azurecontainer.io:8080/csip.nwm/d/netcdf/1.0
- payload:
    calc:
      description: indicates what kind of aggregation to perform
      name: calc
      options:
      - sum
      - avg
      - count
      - variance
      - stddev
      - min
      - max
      value: sum
    timeSeries:
      description: the input timeseries collection
      name: timeSeries
      value:
      - created: '2019-01-17T14:43:35.711Z'
        data:
        - date: '2011-12-03T00:00:00'
          value: 21
        - date: '2011-12-04T00:00:00'
          value: 31
        - date: '2011-12-05T00:00:00'
          value: 18
        - date: '2011-12-06T00:00:00'
          value: 15.5
        - date: '2011-12-07T00:00:00'
          value: 4.9
        - date: '2011-12-08T00:00:00'
          value: 9.3
        id: b1c31be2-d527-4f6a-bc05-333ee2f96a65
        metaInfo:
          approved: false
          forecastTime: 2019-01-16T00:00Z
          history:
          - {}
          parameter:
            dataType: Double
            description: A  minute based mean of streamflow at a point
            format: '##.###'
            max: 25.3
            method: MEAN
            min: 0.31
            missingValue: '-9999'
            name: Streamflow
            parameterType: Model
            qualifier: Raw
            units: m3/s
          source:
            equipment:
              description: A biscuit sensor
              method: biscuit sampling
              name: Biscuit-o-meter
              serialId: SKU-3219Ade039
            location:
              coordinates:
              - 125.6
              - 10.1
              type: Point
            name: Lake Biscuit
            site:
              name: '923145'
              type: catchment
            url: www.google.com
          timeInfo:
            format: string
            interval: P2DT3H4M
            intervalType: day
            offset: -05:00
            start: 2019-01-16T00:00Z
            timeZoneName: UTC
          type: Forecast
      - created: '2019-01-17T14:43:35.711Z'
        data:
        - date: '2011-12-03T00:00:00'
          value: 21
        - date: '2011-12-04T00:00:00'
          value: 31
        - date: '2011-12-05T00:00:00'
          value: 18
        - date: '2011-12-06T00:00:00'
          value: 15.5
        - date: '2011-12-07T00:00:00'
          value: 4.9
        - date: '2011-12-08T00:00:00'
          value: 9.3
        id: b1c31be2-d527-4f6a-bc05-333ee2f96a65
        metaInfo:
          approved: false
          forecastTime: 2019-01-16T00:00Z
          history:
          - {}
          parameter:
            dataType: Double
            description: A  minute based mean of streamflow at a point
            format: '##.###'
            max: 25.3
            method: MEAN
            min: 0.31
            missingValue: '-9999'
            name: Streamflow
            parameterType: Model
            qualifier: Raw
            units: m3/s
          source:
            equipment:
              description: A biscuit sensor
              method: biscuit sampling
              name: Biscuit-o-meter
              serialId: SKU-3219Ade039
            location:
              coordinates:
              - 125.6
              - 10.1
              type: Point
            name: Lake Biscuit
            site:
              name: '923145'
              type: catchment
            url: www.google.com
          timeInfo:
            format: string
            interval: P2DT3H4M
            intervalType: day
            offset: -05:00
            start: 2019-01-16T00:00Z
            timeZoneName: UTC
          type: Forecast
      - created: '2019-01-17T14:43:35.711Z'
        data:
        - date: '2011-12-03T00:00:00'
          value: 21
        - date: '2011-12-04T00:00:00'
          value: 31
        - date: '2011-12-05T00:00:00'
          value: 18
        - date: '2011-12-06T00:00:00'
          value: 15.5
        - date: '2011-12-07T00:00:00'
          value: 4.9
        - date: '2011-12-08T00:00:00'
          value: 9.3
        id: b1c31be2-d527-4f6a-bc05-333ee2f96a65
        metaInfo:
          approved: false
          forecastTime: 2019-01-16T00:00Z
          history:
          - {}
          parameter:
            dataType: Double
            description: A  minute based mean of streamflow at a point
            format: '##.###'
            max: 25.3
            method: MEAN
            min: 0.31
            missingValue: '-9999'
            name: Streamflow
            parameterType: Model
            qualifier: Raw
            units: m3/s
          source:
            equipment:
              description: A biscuit sensor
              method: biscuit sampling
              name: Biscuit-o-meter
              serialId: SKU-3219Ade039
            location:
              coordinates:
              - 125.6
              - 10.1
              type: Point
            name: Lake Biscuit
            site:
              name: '923145'
              type: catchment
            url: www.google.com
          timeInfo:
            format: string
            interval: P2DT3H4M
            intervalType: day
            offset: -05:00
            start: 2019-01-16T00:00Z
            timeZoneName: UTC
          type: Forecast
    type:
      description: the type of date query to perform binning by
      name: type
      options:
      - equals
      - minute
      - hour
      - day
      - month
      - year
      value: equals
- service:
    url: http://52.151.240.97:8080/csip.temporal-aggregator/d/temporal/1.0
